<!DOCTYPE html>
<html lang="it">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object-quiz</title>
</head>
<body>
    <div class="container">
        <form id="quizForm">
            <div class="questionNumber"></div>
            <br>
            <div class="questionText"></div>
            <input type="text" name="answer" id="answer">
            <br>
            <button type="submit" id="bottone">Invia</button>
        </form>
    </div>

    <script>
        let quiz = [
            {
                "ndomanda": "1",
                "testo": "Qual e' il cibo preferito del prof?",
                "rispostagiusta": "orsetti gommosi",
                "rispostautente": "",
                "punteggio": 1
            },
            {
                "ndomanda": "2",
                "testo": "Qual'è il servizio di hosting preferito di antonio?",
                "rispostagiusta": "Aruba",
                "rispostautente": "",
                 "punteggio": 1
            },
            {
                "ndomanda": "3",
                "testo": "La squadra piu forte d'Italia?",
                "rispostagiusta": "Inter",
                "rispostautente": "",
                 "punteggio": 1
            },
            {
                "ndomanda": "4",
                "testo": "Quanto fa 1+1?",
                "rispostagiusta": "2",
                "rispostautente": "",
                 "punteggio": 1
            },
            {
                "ndomanda": "5",
                "testo": "Qual è il colore preferito di antonio?",
                "rispostagiusta": "azzurro",
                "rispostautente":"",
                 "punteggio": 1
            },
            {
                "ndomanda":"6",
                "testo":"Dove si trovano gli orsi polari?",
                "rispostagiusta":"in Groenlandia",
                "rispostautente":"",
                "punteggio":1
            },
            {
                "ndomanda": "7",
                "testo": "Antonio preferisce il dolce o il salato?",
                "rispostagiusta": "salato",
                "rispostautente":"",
                 "punteggio": 1
            },
            {
                "ndomanda": "8",
                "testo": "Qual'è il cibo preferito di Antonio?",
                "rispostagiusta": "panino ipercalorico con cheddar e hamurger dop",
                "rispostautente":"",
                 "punteggio": 1
            },
            {
                "ndomanda": "9",
                "testo": "In un incrocio si da precedenza a:",
                "rispostagiusta": "destra",
                "rispostautente":"",
                 "punteggio": 1
            },
            
        ];

        let currentQuestion = 0;
        let punteggio = 0;
        let ndomanda = document.querySelector(".questionNumber");
        let domanda = document.querySelector(".questionText");
        let answerInput = document.querySelector("#answer");
        let form = document.querySelector("#quizForm");

        function showQuestion() {
            if (currentQuestion < quiz.length) {
                let obj = quiz[currentQuestion];
                ndomanda.innerHTML = "Domanda " + obj["ndomanda"];
                domanda.innerHTML = obj["testo"];
                answerInput.value = "";
            } else {
                ndomanda.innerHTML = "Quiz Terminato!, Il tuo punteggio è di " +punteggio;
                domanda.innerHTML = "";
                answerInput.style.display = "none";
                document.querySelector("#bottone");
            }
        }

        form.addEventListener("submit", function(e) {
            e.preventDefault(); 

            if (currentQuestion <= quiz.length) {
                quiz[currentQuestion]["rispostautente"] = answerInput.value;
                if(quiz[currentQuestion]["rispostautente"] == quiz[currentQuestion]["rispostagiusta"]){
                    punteggio++;
                }
                currentQuestion++;
                showQuestion();
            }
        });

        window.addEventListener('load', showQuestion);
    </script>
</body>
</html>